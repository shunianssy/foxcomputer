# 4.2 数据库操作：增删改查 (CRUD)

有了模型，我们就可以在视图函数里操控数据了
```
new_user = User(username='shunx', email='shunx@shunx.top')
db.session.add(new_user)
db.session.commit() # 必须 commit 才会真正写入数据库
```
## 查 (Read)：
```
users = User.query.all() # 获取所有用户
user = User.query.filter_by(username='shunx').first() # 按条件查询
```

# 改 (Update)：
```
user.email = 'new_email@example.com'
db.session.commit()
```

# 删 (Delete)：
```
db.session.delete(user)
db.session.commit()
```