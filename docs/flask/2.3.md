# 2.3 模板引擎（Jinja2）：让 HTML 动起来

在 Python 代码里写 HTML 字符串简直是噩梦。Flask 默认集成了 Jinja2 模板引擎，让你能把逻辑和页面分开。

## 1. 创建模板文件夹

在项目根目录下创建一个 `templates` 文件夹。


## 2. 创建 HTML 模板

新建 `templates/index.html`：
```html
<h1>你好, {{ name }}!</h1>

<ul>
{% for item in items %}
  <li>{{ item }}</li>
{% endfor %}
</ul>
```

---

## 3. 在 Flask 中渲染模板

在 `app.py` 中渲染它：

```python
from flask import Flask, render_template

app = Flask(__name__)

@app.route('/')
def index():
    my_items = ['Python', 'Flask', 'Jinja2']
    return render_template('index.html', name='开发者', items=my_items)
```

## 4. Jinja2 语法要点

::: v-pre
| 语法 | 说明 | 示例 |
|------|------|------|
| ``{{ ... }}`` | 变量占位（打印输出） | ``{{ name }}`` |
| ``{% ... %}`` | 控制流（if、for 等） | ``{% for item in items %}`` |
| ``{# ... #}`` | 模板注释 | ``{# 这是注释 #}`` |
:::
---

## 5. 更多 Jinja2 示例

### 条件判断

```html
{% if user %}
  <p>欢迎, {{ user.name }}!</p>
{% else %}
  <p>请先登录</p>
{% endif %}
```

### 过滤器

```html
<p>全部大写: {{ name|upper }}</p>
<p>截取前 10 个字符: {{ text|truncate(10) }}</p>
<p>格式化日期: {{ date|date('Y-m-d') }}</p>
```

### 模板继承

```html
<!-- base.html -->
<!DOCTYPE html>
<html>
<head>
  <title>{% block title %}默认标题{% endblock %}</title>
</head>
<body>
  {% block content %}{% endblock %}
</body>
</html>

<!-- child.html -->
{% extends "base.html" %}

{% block title %}子页面标题{% endblock %}

{% block content %}
  <h1>这是子页面内容</h1>
{% endblock %}
```